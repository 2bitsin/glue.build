cmake_minimum_required (VERSION 3.10)
project (glue CXX)
add_definitions(-D_SCL_SECURE_NO_WARNINGS)
if (${CMAKE_SIZEOF_VOID_P} EQUAL "8")
    set (PROJECTNAME_ARCHITECTURE "x64")
else ()
    set (PROJECTNAME_ARCHITECTURE "x86")
endif ()

include_directories ("${CMAKE_CURRENT_SOURCE_DIR}/include")

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

add_library(glue include/glue/function.hpp include/glue/math.hpp include/glue/meta.hpp include/glue/types.hpp include/glue/utility.hpp source/common/strings.cpp source/common/strings.hpp include/glue/lvl1/gl/1.0.base.hpp include/glue/lvl2/gl/1.0.base.hpp source/lvl1/gl/1.0.base.cpp source/lvl2/gl/1.0.base.cpp include/glue/lvl1/gl/1.1.base.hpp include/glue/lvl2/gl/1.1.base.hpp source/lvl1/gl/1.1.base.cpp source/lvl2/gl/1.1.base.cpp include/glue/lvl1/gl/1.2.base.hpp include/glue/lvl2/gl/1.2.base.hpp source/lvl1/gl/1.2.base.cpp source/lvl2/gl/1.2.base.cpp include/glue/lvl1/gl/1.3.base.hpp include/glue/lvl2/gl/1.3.base.hpp source/lvl1/gl/1.3.base.cpp source/lvl2/gl/1.3.base.cpp include/glue/lvl1/gl/1.4.base.hpp include/glue/lvl2/gl/1.4.base.hpp source/lvl1/gl/1.4.base.cpp source/lvl2/gl/1.4.base.cpp include/glue/lvl1/gl/1.5.base.hpp include/glue/lvl2/gl/1.5.base.hpp source/lvl1/gl/1.5.base.cpp source/lvl2/gl/1.5.base.cpp include/glue/lvl1/gl/2.0.base.hpp include/glue/lvl2/gl/2.0.base.hpp source/lvl1/gl/2.0.base.cpp source/lvl2/gl/2.0.base.cpp include/glue/lvl1/gl/2.1.base.hpp include/glue/lvl2/gl/2.1.base.hpp source/lvl1/gl/2.1.base.cpp source/lvl2/gl/2.1.base.cpp include/glue/lvl1/gl/3.0.base.hpp include/glue/lvl2/gl/3.0.base.hpp source/lvl1/gl/3.0.base.cpp source/lvl2/gl/3.0.base.cpp include/glue/lvl1/gl/3.0.compatibility.hpp include/glue/lvl2/gl/3.0.compatibility.hpp source/lvl1/gl/3.0.compatibility.cpp source/lvl2/gl/3.0.compatibility.cpp include/glue/lvl1/gl/3.1.base.hpp include/glue/lvl2/gl/3.1.base.hpp source/lvl1/gl/3.1.base.cpp source/lvl2/gl/3.1.base.cpp include/glue/lvl1/gl/3.1.compatibility.hpp include/glue/lvl2/gl/3.1.compatibility.hpp source/lvl1/gl/3.1.compatibility.cpp source/lvl2/gl/3.1.compatibility.cpp include/glue/lvl1/gl/3.2.base.hpp include/glue/lvl2/gl/3.2.base.hpp source/lvl1/gl/3.2.base.cpp source/lvl2/gl/3.2.base.cpp include/glue/lvl1/gl/3.2.compatibility.hpp include/glue/lvl2/gl/3.2.compatibility.hpp source/lvl1/gl/3.2.compatibility.cpp source/lvl2/gl/3.2.compatibility.cpp include/glue/lvl1/gl/3.2.core.hpp include/glue/lvl2/gl/3.2.core.hpp source/lvl1/gl/3.2.core.cpp source/lvl2/gl/3.2.core.cpp include/glue/lvl1/gl/3.3.base.hpp include/glue/lvl2/gl/3.3.base.hpp source/lvl1/gl/3.3.base.cpp source/lvl2/gl/3.3.base.cpp include/glue/lvl1/gl/3.3.compatibility.hpp include/glue/lvl2/gl/3.3.compatibility.hpp source/lvl1/gl/3.3.compatibility.cpp source/lvl2/gl/3.3.compatibility.cpp include/glue/lvl1/gl/3.3.core.hpp include/glue/lvl2/gl/3.3.core.hpp source/lvl1/gl/3.3.core.cpp source/lvl2/gl/3.3.core.cpp include/glue/lvl1/gl/4.0.base.hpp include/glue/lvl2/gl/4.0.base.hpp source/lvl1/gl/4.0.base.cpp source/lvl2/gl/4.0.base.cpp include/glue/lvl1/gl/4.0.compatibility.hpp include/glue/lvl2/gl/4.0.compatibility.hpp source/lvl1/gl/4.0.compatibility.cpp source/lvl2/gl/4.0.compatibility.cpp include/glue/lvl1/gl/4.0.core.hpp include/glue/lvl2/gl/4.0.core.hpp source/lvl1/gl/4.0.core.cpp source/lvl2/gl/4.0.core.cpp include/glue/lvl1/gl/4.1.base.hpp include/glue/lvl2/gl/4.1.base.hpp source/lvl1/gl/4.1.base.cpp source/lvl2/gl/4.1.base.cpp include/glue/lvl1/gl/4.1.compatibility.hpp include/glue/lvl2/gl/4.1.compatibility.hpp source/lvl1/gl/4.1.compatibility.cpp source/lvl2/gl/4.1.compatibility.cpp include/glue/lvl1/gl/4.1.core.hpp include/glue/lvl2/gl/4.1.core.hpp source/lvl1/gl/4.1.core.cpp source/lvl2/gl/4.1.core.cpp include/glue/lvl1/gl/4.2.base.hpp include/glue/lvl2/gl/4.2.base.hpp source/lvl1/gl/4.2.base.cpp source/lvl2/gl/4.2.base.cpp include/glue/lvl1/gl/4.2.compatibility.hpp include/glue/lvl2/gl/4.2.compatibility.hpp source/lvl1/gl/4.2.compatibility.cpp source/lvl2/gl/4.2.compatibility.cpp include/glue/lvl1/gl/4.2.core.hpp include/glue/lvl2/gl/4.2.core.hpp source/lvl1/gl/4.2.core.cpp source/lvl2/gl/4.2.core.cpp include/glue/lvl1/gl/4.3.base.hpp include/glue/lvl2/gl/4.3.base.hpp source/lvl1/gl/4.3.base.cpp source/lvl2/gl/4.3.base.cpp include/glue/lvl1/gl/4.3.compatibility.hpp include/glue/lvl2/gl/4.3.compatibility.hpp source/lvl1/gl/4.3.compatibility.cpp source/lvl2/gl/4.3.compatibility.cpp include/glue/lvl1/gl/4.3.core.hpp include/glue/lvl2/gl/4.3.core.hpp source/lvl1/gl/4.3.core.cpp source/lvl2/gl/4.3.core.cpp include/glue/lvl1/gl/4.4.base.hpp include/glue/lvl2/gl/4.4.base.hpp source/lvl1/gl/4.4.base.cpp source/lvl2/gl/4.4.base.cpp include/glue/lvl1/gl/4.4.compatibility.hpp include/glue/lvl2/gl/4.4.compatibility.hpp source/lvl1/gl/4.4.compatibility.cpp source/lvl2/gl/4.4.compatibility.cpp include/glue/lvl1/gl/4.4.core.hpp include/glue/lvl2/gl/4.4.core.hpp source/lvl1/gl/4.4.core.cpp source/lvl2/gl/4.4.core.cpp include/glue/lvl1/gl/4.5.base.hpp include/glue/lvl2/gl/4.5.base.hpp source/lvl1/gl/4.5.base.cpp source/lvl2/gl/4.5.base.cpp include/glue/lvl1/gl/4.5.compatibility.hpp include/glue/lvl2/gl/4.5.compatibility.hpp source/lvl1/gl/4.5.compatibility.cpp source/lvl2/gl/4.5.compatibility.cpp include/glue/lvl1/gl/4.5.core.hpp include/glue/lvl2/gl/4.5.core.hpp source/lvl1/gl/4.5.core.cpp source/lvl2/gl/4.5.core.cpp include/glue/lvl1/gl/4.6.base.hpp include/glue/lvl2/gl/4.6.base.hpp source/lvl1/gl/4.6.base.cpp source/lvl2/gl/4.6.base.cpp include/glue/lvl1/gl/4.6.compatibility.hpp include/glue/lvl2/gl/4.6.compatibility.hpp source/lvl1/gl/4.6.compatibility.cpp source/lvl2/gl/4.6.compatibility.cpp include/glue/lvl1/gl/4.6.core.hpp include/glue/lvl2/gl/4.6.core.hpp source/lvl1/gl/4.6.core.cpp source/lvl2/gl/4.6.core.cpp include/glue/lvl1/gles1/1.0.base.hpp include/glue/lvl2/gles1/1.0.base.hpp source/lvl1/gles1/1.0.base.cpp source/lvl2/gles1/1.0.base.cpp include/glue/lvl1/gles1/1.0.common.hpp include/glue/lvl2/gles1/1.0.common.hpp source/lvl1/gles1/1.0.common.cpp source/lvl2/gles1/1.0.common.cpp include/glue/lvl1/gles2/2.0.base.hpp include/glue/lvl2/gles2/2.0.base.hpp source/lvl1/gles2/2.0.base.cpp source/lvl2/gles2/2.0.base.cpp include/glue/lvl1/gles2/3.0.base.hpp include/glue/lvl2/gles2/3.0.base.hpp source/lvl1/gles2/3.0.base.cpp source/lvl2/gles2/3.0.base.cpp include/glue/lvl1/gles2/3.1.base.hpp include/glue/lvl2/gles2/3.1.base.hpp source/lvl1/gles2/3.1.base.cpp source/lvl2/gles2/3.1.base.cpp include/glue/lvl1/gles2/3.2.base.hpp include/glue/lvl2/gles2/3.2.base.hpp source/lvl1/gles2/3.2.base.cpp source/lvl2/gles2/3.2.base.cpp include/glue/lvl1/glsc2/2.0.base.hpp include/glue/lvl2/glsc2/2.0.base.hpp source/lvl1/glsc2/2.0.base.cpp source/lvl2/glsc2/2.0.base.cpp)
add_executable(glue_tests tests/basic.cpp)
target_link_libraries(glue_tests glue)

install(TARGETS glue glue_tests EXPORT glue 
  RUNTIME DESTINATION "${CMAKE_CURRENT_SOURCE_DIR}/install/bin/${PROJECTNAME_ARCHITECTURE}"
  LIBRARY DESTINATION "${CMAKE_CURRENT_SOURCE_DIR}/install/lib/${PROJECTNAME_ARCHITECTURE}"
  ARCHIVE DESTINATION "${CMAKE_CURRENT_SOURCE_DIR}/install/lib/${PROJECTNAME_ARCHITECTURE}"
  INCLUDES DESTINATION "${CMAKE_CURRENT_SOURCE_DIR}/install/includes")
